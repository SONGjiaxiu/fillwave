CMAKE_MINIMUM_REQUIRED( VERSION 2.8.8 )

# -----------------------------------------------
# Version
# -----------------------------------------------

SET(VERSION_MAJOR 2)
SET(VERSION_MINOR 1)
SET(VERSION_PATCH 4)
SET(PROJECT_VERSION ${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH})

# -----------------------------------------------
# Workarounds
# -----------------------------------------------

ADD_DEFINITIONS(-DASSIMP_BUILD_NO_IFC_IMPORTER )

# -----------------------------------------------
# Project options
# -----------------------------------------------

include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/options.cmake)

# -----------------------------------------------
# Compiler options
# -----------------------------------------------

include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/compiler.cmake)

# -----------------------------------------------
# Directories
# -----------------------------------------------

set(FILLWAVE_PATH_INCLUDE "inc")
set(FILLWAVE_PATH_SOURCE "src")

set(FILLWAVE_PATH_SOURCE_ENGINE_CALLBACKS "actions/engine_callbacks")
set(FILLWAVE_PATH_SOURCE_ITEM_CALLBACKS "actions/item_callbacks")

set(FILLWAVE_PATH_SOURCE_CORE_BUFFERS "core/buffers")
set(FILLWAVE_PATH_SOURCE_CORE_RENDERING "core/rendering")
set(FILLWAVE_PATH_SOURCE_CORE_SHADING "core/pipeline")
set(FILLWAVE_PATH_SOURCE_CORE_TEXTURING "core/texturing")
set(FILLWAVE_PATH_SOURCE_CORE_OPERATIONS "core/operations")

set(FILLWAVE_PATH_SOURCE_EXTRAS "extras")
set(FILLWAVE_PATH_SOURCE_LOADERS "loaders")
set(FILLWAVE_PATH_SOURCE_MANAGEMENT "management")

set(FILLWAVE_PATH_SOURCE_MODELS "models")
set(FILLWAVE_PATH_SOURCE_MODELS_MESHES "models/meshes")

SET(FILLWAVE_PATH_SOURCE_PARTICLES "particles")
SET(FILLWAVE_PATH_SOURCE_SPACE "space")
SET(FILLWAVE_PATH_SOURCE_ANIMATION "animation")
SET(FILLWAVE_PATH_SOURCE_EFFECTS "effects")
SET(FILLWAVE_PATH_SOURCE_COMMON "common")
SET(FILLWAVE_PATH_SOURCE_TERRAIN "terrain")

# -----------------------------------------------
# Sources
# -----------------------------------------------

AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_ENGINE_CALLBACKS} GL_ENGINE_CALLBACKS_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_ITEM_CALLBACKS} GL_ITEM_CALLBACKS_SOURCES)

AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_CORE_BUFFERS} GL_CORE_BUFFERS_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_CORE_RENDERING} GL_CORE_RENDERING_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_CORE_SHADING} GL_CORE_SHADING_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_CORE_TEXTURING} GL_CORE_TEXTURING_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_CORE_OPERATIONS} GL_CORE_OPERATIONS_SOURCES)

AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_MODELS} GL_MODELS_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_MODELS_MESHES} GL_MODELS_MESHES_SOURCES)

AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_EXTRAS} GL_EXTRAS_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_LOADERS} GL_LOADERS_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_MANAGEMENT} GL_MANAGEMENT_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_PARTICLES} GL_PARTICLES_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_SPACE} GL_SPACE_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_ANIMATION} GL_ANIMATION_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_EFFECTS} GL_EFFECTS_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_COMMON} GL_COMMON_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_TERRAIN} GL_TERRAIN_SOURCES)
AUX_SOURCE_DIRECTORY(${FILLWAVE_PATH_SOURCE}/${FILLWAVE_PATH_SOURCE_LOADERS}/configs GL_SHADER_GENERATOR_SOURCES)

SET(FILLWAVE_SOURCES
     ${FILLWAVE_PATH_SOURCE}/OpenGL.cpp
     ${FILLWAVE_PATH_SOURCE}/core/GLObject.cpp
     ${FILLWAVE_PATH_SOURCE}/Fillwave.cpp
     ${GL_ENGINE_CALLBACKS_SOURCES}
     ${GL_ITEM_CALLBACKS_SOURCES}
     ${GL_CORE_BUFFERS_SOURCES}
     ${GL_CORE_RENDERING_SOURCES}
     ${GL_CORE_SHADING_SOURCES}
     ${GL_CORE_TEXTURING_SOURCES}
     ${GL_CORE_OPERATIONS_SOURCES}
     ${GL_EXTRAS_SOURCES}
     ${GL_LOADERS_SOURCES}
     ${GL_MANAGEMENT_SOURCES}
     ${GL_MODELS_SOURCES}
     ${GL_MODELS_MESHES_SOURCES}
     ${GL_SPACE_SOURCES}
     ${GL_PICOPNG_SOURCES}
     ${GL_ANIMATION_SOURCES}
     ${GL_EFFECTS_SOURCES}
     ${GL_FONTGENERATOR_SOURCES}
     ${GL_PARTICLES_SOURCES}
     ${GL_COMMON_SOURCES}
     ${GL_TERRAIN_SOURCES}
     ${GL_SHADER_GENERATOR_SOURCES}
     )

# -----------------------------------------------
# External libraries
# -----------------------------------------------

include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/external.cmake)

# -----------------------------------------------
# Packaging
# -----------------------------------------------

include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/package.cmake)

# -----------------------------------------------
# Platform
# -----------------------------------------------

IF(UNIX AND NOT ANDROID AND NOT APPLE)
    if (FILLWAVE_BUILD_DEV)
        include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/platform/LinuxDev.cmake)
    else()
        include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/platform/Linux.cmake)
    endif()
ENDIF(UNIX AND NOT ANDROID AND NOT APPLE)

IF(ANDROID)
   include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/platform/Android.cmake)
ENDIF(ANDROID)

IF(APPLE)
    if(IOS)
        include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/platform/IOS.cmake)
    else()
        include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/platform/OSX.cmake)
    endif()
ENDIF(APPLE)

IF(WIN32)
   include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/platform/Windows.cmake)
ENDIF(WIN32)

CONFIGURE_FILE(
"${CMAKE_CURRENT_SOURCE_DIR}/cmake/Config.h.in"
"${CMAKE_CURRENT_SOURCE_DIR}/inc/fillwave/Config.h"
)
SET(CMAKE_EXTRA_INCLUDE_FILES)
